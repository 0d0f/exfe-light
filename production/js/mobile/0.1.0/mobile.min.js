define(function(e){"use strict";var t=e("tween"),i=e("af"),n=i.request,r=e("mobilemiddleware"),a=e("mobilecontroller").FooterController,s=e("mobileroutes"),o=e("lightsaber"),l=window.App=o();l.use(r.setHtmlHeight),l.use(r.cleanup),l.initRouter(),l.use(r.errorHandler),l.request.enableFullUrlPath=!0,l.controllers={},l.controllers.footer=new a({App:l}),l.get(/^\/+(?:\?)?#{0,}$/,s.index),l.get(/^\/+(?:\?)?#live\/?$/,s.live),l.get(/^\/+\?(?:(?:redirect)&)?t=([a-zA-Z0-9]{3,})$/,function(e,t){var i=window._ENV_._data_,n=i.action;e.session.resolveToken=i,"VERIFIED"===n?s.verify(e,t):"INPUT_NEW_PASSWORD"===n&&s.setPassword(e,t)}),l.get(/^\/+(?:\?(?:redirect)?)?#token=([a-zA-Z0-9]{64})\/?$/,s.resolveToken),l.get(/^\/+(?:\?(?:redirect)?)?#!([1-9][0-9]*)\/([a-zA-Z0-9]{4})\/?$/,s.crossPhoneToken),l.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{32})\/?$/,s.crossToken),l.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{4,})\/routex\/?$/,s.routex),l.get(/^\/+!token=([a-zA-Z0-9]{4,})\/routex\/?$/,s.routex),l.get(/^\/+!\d+\/routex\/?.*$/,s.routex),l.on("launched",function(){function e(){n(e),t.update()}e()})});