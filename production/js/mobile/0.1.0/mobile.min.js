define(function(e){"use strict";var t=e("tween"),i=e("af"),n=i.request,a=e("mobilemiddleware"),o=e("mobilecontroller").FooterController,s=e("mobileroutes"),r=e("lightsaber"),d=window.App=r();d.use(a.setHtmlHeight),d.use(a.cleanup),d.initRouter(),d.use(a.errorHandler),d.controllers={},d.controllers.footer=new o({App:d}),d.get(/^\/+(?:\?)?#{0,}$/,s.index),d.get(/^\/+(?:\?)?#live\/?$/,s.live),d.get(/^\/+\?(?:(?:redirect)&)?t=([a-zA-Z0-9]{3,})$/,function(e,t){var i=window._ENV_._data_,n=i.action;e.session.resolveToken=i,"VERIFIED"===n?s.verify(e,t):"INPUT_NEW_PASSWORD"===n&&s.setPassword(e,t)}),d.get(/^\/+(?:\?(?:redirect)?)?#token=([a-zA-Z0-9]{64})\/?$/,s.resolveToken),d.get(/^\/+(?:\?(?:redirect)?)?#!([1-9][0-9]*)\/([a-zA-Z0-9]{4})\/?$/,s.crossPhoneToken),d.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{32})\/?$/,s.crossToken),d.on("launched",function(){function e(){n(e),t.update()}e()})});