define(function(t){"use strict";var e=t("tween"),i=t("af"),n=i.request,s=t("mobilemiddleware"),a=t("mobilecontroller").FooterController,r=t("mobileroutes"),o=t("lightsaber"),c=window.App=o();c.use(s.setHtmlHeight),c.use(s.cleanup),c.initRouter(),c.use(s.errorHandler),c.request.enableFullUrlPath=!0,c.controllers={},c.controllers.footer=new a({App:c}),c.get(/^\/+(?:\?)?#{0,}$/,r.index),c.get(/^\/+(?:\?)?#live\/?$/,r.live),c.get(/^\/+\?(?:(?:redirect)&)?t=([a-zA-Z0-9]{3,})$/,function(t,e){var i=window._ENV_._data_,n=i.action;t.session.resolveToken=i,"VERIFIED"===n?r.verify(t,e):"INPUT_NEW_PASSWORD"===n&&r.setPassword(t,e)}),c.get(/^\/+(?:\?(?:redirect)?)?#token=([a-zA-Z0-9]{64})\/?$/,r.resolveToken),c.get(/^\/+(?:\?(?:redirect)?)?#!([1-9][0-9]*)\/([a-zA-Z0-9]{4})\/?$/,r.crossPhoneToken),c.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{32})\/?$/,r.crossToken),c.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{4,})\/routex\/?$/,r.routex),c.get(/^\/+!token=([a-zA-Z0-9]{4,})\/routex\/?$/,r.routex),c.get(/^\/+!\d+\/routex\/?.*$/,r.routex),c.get(/^\/+wechat\/aboutroutex.*$/,r.wechatAboutRoutex),c.on("launched",function(){function t(){n(t),e.update()}t()})});