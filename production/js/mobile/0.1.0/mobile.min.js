define(function(e){"use strict";var o=e("tween"),t=e("af"),r=t.request,n=e("mobilemiddleware"),i=e("mobilecontroller").FooterController,s=e("mobileroutes"),l=e("lightsaber"),a=window.App=l();a.use(n.setHtmlHeight),a.use(n.cleanup),a.initRouter(),a.use(n.errorHandler),a.controllers={},a.controllers.footer=new i({App:a}),a.get(/^\/+(?:\?)?#{0,}$/,s.index),a.get(/^\/+(?:\?)?#live\/?$/,s.live),a.get(/^\/+\?(?:(redirect)&)?t=([a-zA-Z0-9]{3,})$/,function(e,o){var t=window._ENV_._data_,r=t.action;e.session.resolveToken=t,"VERIFIED"===r?s.verify(e,o):"INPUT_NEW_PASSWORD"===r&&s.setPassword(e,o)}),a.get(/^\/+(?:\?(redirect)?)?#token=([a-zA-Z0-9]{64})\/?$/,s.resolveToken),a.get(/^\/+(?:\?(redirect)?)?#!([1-9][0-9]*)\/([a-zA-Z0-9]{4})\/?$/,s.crossPhoneToken),a.get(/^\/+(?:\?(redirect)?)?#!token=([a-zA-Z0-9]{32})\/?$/,s.crossToken),a.on("launched",function(){function e(){r(e),o.update()}e()})});