define(function(t){"use strict";var e=t("tween"),n=t("af"),i=n.request,r=t("mobilemiddleware"),s=t("mobilecontroller").FooterController,a=t("mobileroutes"),o=t("lightsaber"),l=window.App=o();l.use(r.setHtmlHeight),l.use(r.cleanup),l.initRouter(),l.use(r.errorHandler),l.request.enableFullUrlPath=!0,l.controllers={},l.controllers.footer=new s({App:l}),l.get(/^\/+(?:\?)?#{0,}$/,a.index),l.get(/^\/+(?:\?)?#live\/?$/,a.live),l.get(/^\/+\?(?:(?:redirect)&)?t=([a-zA-Z0-9]{3,})$/,function(t,e){var n=window._ENV_._data_,i=n.action;t.session.resolveToken=n,"VERIFIED"===i?a.verify(t,e):"INPUT_NEW_PASSWORD"===i&&a.setPassword(t,e)}),l.get(/^\/+(?:\?(?:redirect)?)?#token=([a-zA-Z0-9]{64})\/?$/,a.resolveToken),l.get(/^\/+(?:\?(?:redirect)?)?#!([1-9][0-9]*)\/([a-zA-Z0-9]{4})\/?$/,a.crossPhoneToken),l.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{32})\/?$/,a.crossToken),l.get(/^\/+(?:\?(?:redirect)?)?#!token=([a-zA-Z0-9]{4,})\/routex\/?$/,a.routex),l.get(/^\/+!token=([a-zA-Z0-9]{4,})\/routex\/?$/,a.routex),l.get(/^\/+!\d+\/routex\/?.*$/,a.routex),l.get(/^\/+wechat\/aboutroutex.*$/,a.wechatAboutRoutex),l.on("launched",function(){function t(){i(t),e.update()}t()})});