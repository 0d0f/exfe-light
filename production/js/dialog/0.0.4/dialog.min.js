define("dialog",function(e){"use strict";function t(){this.isShown&&this.options.backdrop?(this.$backdrop=o(h).appendTo(this.parentNode),this.$backdrop.click(o.proxy(this.hide,this)),this.$backdrop.addClass("in")):!this.isShown&&this.$backdrop&&(this.$backdrop.removeClass("in"),s.call(this))}function s(){this.$backdrop.remove(),this.$backdrop=null}function i(){var e=this;this.isShown&&this.options.keyboard?n.on("keyup.dismiss.modal",function(t){return 27===t.which?(t.stopPropagation(),t.preventDefault(),e&&e.hide(),!1):void 0}):this.isShown||n.off("keyup.dismiss.modal")}var o=e("jquery"),r=e("widget"),n=o(document.body),d=o("#app-tmp"),a=r.extend({options:{keyboard:!0,backdrop:!1,template:'<div class="modal" tabindex="-1"><div class="modal-header"><button class="close" data-dismiss="dialog">Ã—</button><h3></h3></div><div class="modal-main"><div class="modal-body"></div><div class="modal-footer"></div></div></div>',parentNode:d,srcNode:"",viewData:null,lifecycle:!0},init:function(){},render:function(){var e,t=this.options;if(this.parentNode=t.parentNode,this.srcNode=t.srcNode,delete t.parentNode,delete t.srcNode,e=t.viewData){var s=e.title,i=e.body,r=e.footer,n=e.others,d=e.cls;d&&this.element.addClass(d),s&&this.element.find("h3").eq(0).html(s),i&&this.element.find("div.modal-body").html(i),r&&this.element.find("div.modal-footer").html(r),n&&this.element.find("div.modal-main").append(n)}return this.element.appendTo(this.parentNode),this.element.on("click.dismiss.dialog",'[data-dismiss="dialog"]',o.proxy(this.hide,this)),this.element.on("destory.widget",o.proxy(this.destory,this)),this.sync(),this},sync:function(){return this.emit("sync"),this},show:function(e){return d.find(".modal").addClass("hide"),this.emit("showBefore",e),this.element.removeClass("hide"),this.isShown=!0,i.call(this),t.call(this),this.element.addClass("in"),this.emit("showAfter",e),this},hide:function(e){return this.emit("hideBefore",e),this.element.addClass("hide"),this.isShown=!1,i.call(this),t.call(this),this.element.removeClass("in"),this.emit("hideAfter",e),e&&"stopPropagation"in e&&(e.stopPropagation(),e.preventDefault()),this},offSrcNode:function(){var e=this.srcNode;e&&(e.data("dialog",null),e.data("destory")&&e.remove())},destory:function(){var e=this.element;if(this.srcNode){var t=this.srcNode.data("dialog-type");this.offSrcNode(),n.find('[data-dialog-type="'+t+'"]').not(e).removeData("dialog")}this._destory(),e.remove()}}),h='<div id="js-modal-backdrop" class="modal-backdrop" />';return a});