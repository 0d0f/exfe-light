define("api",function(e){"use strict";function t(e,t){var s;for(s in t)e[s]=t[s];return e}function s(e,s,i){var n,o={};return t(o,d),t(o,e),n=r.ajax(o),n.then(function(e){var t=e&&e.meta&&e.meta.code;return 200===t?e.response:r.Deferred().reject(e)}).done(s).fail(i).always(function(){n.abort(),n=null}),n}var r=e("jquery"),i=e("config"),n={base_url:i.api_url,signin:"/Users/signin",getRegistrationFlag:"/Users/getRegistrationFlag",getUser:"/Users/:user_id",signout:"",updateUser:"/Users/update",setPassword:"/Users/:user_id/setPassword",crosses:"/Users/:user_id/crosses",crosslist:"/Users/:user_id/crosslist",addIdentity:"/Users/addIdentity",deleteIdentity:"/Users/deleteIdentity",setDefaultIdentity:"/Users/setDefaultIdentity",mergeIdentities:"/Users/mergeIdentities",getIdentityById:"/Identities/:identity_id",complete:"/Identities/complete",getIdentity:"/Identities/get",updateIdentity:"/Identities/:identity_id/update",getCross:"/Crosses/:cross_id",gather:"/Crosses/gather",editCross:"/Crosses/:cross_id/edit",rsvp:"/Exfee/:exfee_id/rsvp",editExfee:"/Exfee/:exfee_id/edit",conversation:"/Conversation/:exfee_id",addConversation:"/Conversation/:exfee_id/add",verifyIdentity:"/Users/verifyIdentity",verifyUserIdentity:"/Users/verifyUserIdentity",forgotPassword:"/Users/forgotPassword",avatarUpdate:"/Avatar/update",getCrossByInvitationToken:"/Crosses/getCrossByInvitationToken",resolveToken:"/Users/resolveToken",resetPassword:"/Users/resetPassword",setupUserByInvitationToken:"/Users/setupUserByInvitationToken",getInvitationByToken:"/Crosses/:cross_id/getInvitationByToken",recognize:"/time/recognize",sortIdentities:"/Users/:user_id/sortIdentities"},o={_token:null,setToken:function(e){this._token=e},getToken:function(){return this._token},request:function(e,t,i,d){var a,u=n[e],y=t.params,f=t.resources;if(u){if(y||(y={}),y&&(o._token&&!y.token&&(y.token=o._token),y=r.param(y),u+=y?"?"+y:""),f)for(a in f)u=u.replace(":"+a,encodeURIComponent(f[a]));return t.url=n.base_url+u,delete t.params,delete t.resources,s(t,i,d)}}},d={type:"GET",dataType:"JSON",timeout:3777,cache:!1,xhrFields:{withCredentials:!0}};return o});