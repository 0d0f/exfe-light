define("api",function(e){"use strict";function s(e,t){var n;for(n in t)e[n]=t[n];return e}function u(e,n,r){var i={},u,a,f;return s(i,o),s(i,e),u=t.Deferred(),a=u.promise(),f=t.ajax(i).done(function(e,t,n){var r=e&&e.meta&&e.meta.code;200===r?u.resolve(e.response,t,n):u.reject(e,t,n)}),a.jqXHR=f,a.abort=function(e){f&&(f.abort(e),f=u=a=null)},a.done(n).fail(r).always(function(){f=u=a=null}),a}var t=e("jquery"),n=e("config"),r={base_url:n.api_url,signin:"/Users/signin",getRegistrationFlag:"/Users/getRegistrationFlag",getUser:"/Users/:user_id",signout:"",updateUser:"/Users/update",setPassword:"/Users/:user_id/setPassword",crosses:"/Users/:user_id/crosses",crosslist:"/Users/:user_id/crosslist",addIdentity:"/Users/addIdentity",deleteIdentity:"/Users/deleteIdentity",setDefaultIdentity:"/Users/setDefaultIdentity",mergeIdentities:"/Users/mergeIdentities",getIdentityById:"/Identities/:identity_id",complete:"/Identities/complete",getIdentity:"/Identities/get",updateIdentity:"/Identities/:identity_id/update",getCross:"/Crosses/:cross_id",gather:"/Crosses/gather",editCross:"/Crosses/:cross_id/edit",rsvp:"/Exfee/:exfee_id/rsvp",editExfee:"/Exfee/:exfee_id/edit",conversation:"/Conversation/:exfee_id",addConversation:"/Conversation/:exfee_id/add",verifyIdentity:"/Users/verifyIdentity",verifyUserIdentity:"/Users/verifyUserIdentity",forgotPassword:"/Users/forgotPassword",avatarUpdate:"/Avatar/update",getCrossByInvitationToken:"/Crosses/getCrossByInvitationToken",resolveToken:"/Users/resolveToken",resetPassword:"/Users/resetPassword",setupUserByInvitationToken:"/Users/setupUserByInvitationToken",getInvitationByToken:"/Crosses/:cross_id/getInvitationByToken",recognize:"/time/recognize",sortIdentities:"/Users/:user_id/sortIdentities"},i={_token:null,setToken:function(e){this._token=e},getToken:function(){return this._token},request:function(e,n,s,o){var a=r[e],f,l=n.params,c=n.resources;if(!a)return;l||(l={}),l&&(i._token&&!l.token&&(l.token=i._token),l=t.param(l),a+=l?"?"+l:"");if(c)for(f in c)a=a.replace(":"+f,encodeURIComponent(c[f]));return n.url=r.base_url+a,delete n.params,delete n.resources,u(n,s,o)}},o={type:"GET",dataType:"JSON",timeout:3777,cache:!1,xhrFields:{withCredentials:!0}};return i});