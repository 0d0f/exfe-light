define("api",function(e){function t(e,t){return function(){var r=s(arguments),i=r[0];return i&&200===i.meta.code?(r[0]=i.response,e&&e.apply(this,r)):t&&t.apply(this,r),this}}function s(e){return u.call(e,0)}function r(e,t){var s;for(s in t)e[s]=t[s];return e}function i(e,t,s){var i,o={};return r(o,y),r(o,e),i=n.ajax(o).done(t).fail(s)}var n=e("jquery"),o=e("config"),d={base_url:o.api_url,signin:"/Users/signin",getRegistrationFlag:"/Users/getRegistrationFlag",getUser:"/Users/:user_id",signout:"",updateUser:"/Users/update",setPassword:"/Users/:user_id/setPassword",crosses:"/Users/:user_id/crosses",crosslist:"/Users/:user_id/crosslist",addIdentity:"/Users/addIdentity",deleteIdentity:"/Users/deleteIdentity",setDefaultIdentity:"/Users/setDefaultIdentity",mergeIdentities:"/Users/mergeIdentities",getIdentityById:"/Identities/:identity_id",complete:"/Identities/complete",getIdentity:"/Identities/get",updateIdentity:"/Identities/:identity_id/update",getCross:"/Crosses/:cross_id",gather:"/Crosses/gather",editCross:"/Crosses/:cross_id/edit",rsvp:"/Exfee/:exfee_id/rsvp",editExfee:"/Exfee/:exfee_id/edit",conversation:"/Conversation/:exfee_id",addConversation:"/Conversation/:exfee_id/add",verifyIdentity:"/Users/verifyIdentity",verifyUserIdentity:"/Users/verifyUserIdentity",forgotPassword:"/Users/forgotPassword",avatarUpdate:"/Avatar/update",getCrossByInvitationToken:"/Crosses/getCrossByInvitationToken",resolveToken:"/Users/resolveToken",resetPassword:"/Users/resetPassword",setupUserByInvitationToken:"/Users/setupUserByInvitationToken",getInvitationByToken:"/Crosses/:cross_id/getInvitationByToken",recognize:"/time/recognize",sortIdentities:"/Users/:user_id/sortIdentities"},a={_token:null,setToken:function(e){this._token=e},getToken:function(){return this._token},request:function(e,s,r,o){var u,y=d[e],f=s.params,p=s.resources;if(y){if(f||(f={}),f&&(a._token&&!f.token&&(f.token=a._token),f=n.param(f),y+=f?"?"+f:""),p)for(u in p)y=y.replace(":"+u,encodeURIComponent(p[u]));return s.url=d.base_url+y,delete s.params,delete s.resources,i(s,t(r,o),o)}}},u=Array.prototype.slice,y={type:"GET",dataType:"JSON",xhrFields:{withCredentials:!0}};return a});