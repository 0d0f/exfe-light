define(function(o){"use strict";var t=o("jquery"),i=680,s=1200,e=s-i,a=70,n=120,c=n-a,r=function(o,t){return i>o?o=i:o>s&&(o=s),t=a+c*(o-i)/e,[o,t]},l=Math.floor,h=Math.min;t(function(){var o,i,s,e,a,n=t(window),c=t(document),d=t(".top-mask"),p=t(".home header"),m=t(".exfe-logo"),f=t(".login"),g=f[0].style,u=t(".intros"),y=t(".introduction"),v=u.find(".intro").not(y);n.off("*.home").on("scroll.home",function(){var o,t=n.scrollTop(),c=h(t,200)/200,r=f[0].getBoundingClientRect();y.css("opacity",.5+.5*c),v.css("opacity",.2+.8*c),a[0]>t?d.css("opacity",0).attr("class","top-mask hide"):t>=a[0]&&d.css("opacity",(Math.min(t,a[1])-a[0])/(a[1]-a[0])).attr("class","top-mask"),r.top<(o=60)?(e=1,g.position="fixed",g.top=o+"px"):60===r.top&&l(t)<=(o=l(i-s-36-30))-60&&(e=0,g.position="absolute",g.top=o+"px")}).on("resize.home",function(){o=r(n.height(),0),i=o[0],s=o[1];var t=(i-600)/2,c=Math.floor(i-s-36-30);p.css("top",s),m.css("top",t),e||f.css("top",c),u.css("top",i-30),a=[t+600-200,c],n.trigger("scroll.home")}),c.off("*.home").on("click.home",".introduction img",function(){t("html, body").animate({scrollTop:"+=50"},233)}).on("click.home",".exfe-logo, .xbtn-start",function(){var o={options:{onShowAfter:function(){var o=this.element;o.css({top:n.height()/2+n.scrollTop(),marginTop:-o.height()/2})},onHideAfter:function(){this.$(".modal-body").eq(0).css("opacity",1),this.switchTabType="d00",this._oauth_&&this._oauth_.abort();var o=this.element;this.offSrcNode(),this.destory(),o.remove(),t(".popmenu").remove(),t("#js-modal-backdrop").addClass("hide").css("opacity",0)},backdrop:!1,viewData:{cls:"modal-id home-dialog"}}};t(".sign-in").data("dialog-settings",o).trigger("click.dialog.data-api").data("dialog-settings",null)}),n.trigger("resize.home"),t(".home").removeClass("hidden").addClass("start")})});