define(function(t){"use strict";var o=t("jquery"),e={content:"width=device-width, initial-scale=0.87, user-scalable=no, maximum-scale=1",media:"only screen and (min-device-width: 768px) and (max-device-width: 1024px)"},i={content:"width=device-width, initial-scale=0.35, user-scalable=no, maximum-scale=1",media:"only screen and (min-device-width: 320px) and (max-device-width: 568px)"},a=document.getElementById("viewport");navigator.userAgent.match(/iPhone/i)?(a.setAttribute("content",i.content),a.setAttribute("media",i.media)):navigator.userAgent.match(/iPad/i)&&(a.setAttribute("content",e.content),a.setAttribute("media",e.media));var s=680,n=1200,r=n-s,c=200,m=220,d=m-c,l=70,h=120,p=h-l,u=function(t,o,e){return s>t?t=s:t>n&&(t=n),o=l+p*(t-s)/r,e=(c+d*(t-s)/r)/m,[t,o,e]},f=Math.floor,g=Math.min;o(function(){var t,e,i,a,s,n,r,c,m,d,l,h,p,v=o(window),b=o(document),y=o(".top-mask"),w=o(".home header"),x=o(".exfe-logo"),k=o(".login"),A=k[0].style,T=o(".intros"),z=o(".introduction"),C=T.find(".intro").not(z),M=o("#bloom");v.off("*.home").on("scroll.home",function(){var t,o=v.scrollTop(),a=g(o,200)/200,r=k[0].getBoundingClientRect();z.css("opacity",.5+.5*a),C.css("opacity",.2+.8*a),n[0]>o?(y.attr("class","top-mask hide"),y[0].style.fillOpacity=0):o>=n[0]&&(y.attr("class","top-mask"),y[0].style.fillOpacity=(g(o,n[1])-n[0])/(n[1]-n[0])),r.top<(t=50)?(s=1,A.position="fixed",A.top=t+"px"):50===r.top&&f(o)<=(t=f(e-i-36-30))-50&&(s=0,A.position="absolute",A.top=t+"px")}).on("resize.home",function(){t=u(v.height(),0),e=t[0],i=t[1],a=t[2];var o=(e-460)/2,d=f(e-i-36-30);w.css("top",i),x.css("top",o),s||k.css("top",d),T.css("top",e-30),n=[o+460-120,d];var l="scale("+a+")";x.css({"-webkit-transform":l,"-moz-transform":l,"-ms-transform":l,"-o-transform":l,transform:l});var h=x.offset();r=h.left+220,c=h.top+220,m=g(r,c),v.trigger("scroll.home")}),b.off("*.home").on("mousemove.home touchstart.home touchmove.home",function(t){var o,e,i=t.type;if("touchmove"===i||"touchstart"===i){var a=t.originalEvent.touches[0];o=a.pageX,e=a.pageY}else o=t.pageX,e=t.pageY;d=o-r,l=e-c,h=4*((0>d?1:-1)*g(Math.abs(d),m)/m),p=4*((0>l?1:-1)*g(Math.abs(l),m)/m);var s="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+h+", "+p+", 1, 1)";M.css({"-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s})}).on("click.home touchstart.home",".introduction img",function(){o("html, body").animate({scrollTop:"+=100"},233)}).on("click.home touchstart.home","#logo, .xbtn-start",function(){var t={options:{onShowAfter:function(){var t=this.element;t.css({top:(e-460)/2+v.scrollTop()}),t.find("#identity").focusend()},onHideAfter:function(){this.$(".modal-body").eq(0).css("opacity",1),this.switchTabType="d00",this._oauth_&&this._oauth_.abort();var t=this.element;this.offSrcNode(),this.destory(),t.remove(),o(".popmenu").remove(),o("#js-modal-backdrop").addClass("hide").css("opacity",0)},backdrop:!1,viewData:{cls:"modal-id home-dialog"}}};o(".sign-in").data("dialog-settings",t).trigger("click.dialog.data-api").data("dialog-settings",null)}),v.trigger("resize.home"),o(".home").removeClass("hidden").addClass("start")})});