define(function(o){"use strict";var t=o("jquery"),i=680,e=1200,s=e-i,a=70,n=120,c=n-a,r=function(o,t){return i>o?o=i:o>e&&(o=e),t=a+c*(o-i)/s,[o,t]},l=Math.floor,d=Math.min;t(function(){var o,i,e,s,a,n=t(window),c=t(document),h=t(".top-mask"),p=t(".home header"),m=t(".exfe-logo"),f=t(".login"),g=f[0].style,u=t(".intros"),y=t(".introduction"),v=u.find(".intro").not(y);n.off("*.home").on("scroll.home",function(){var o,t=n.scrollTop(),c=d(t,200)/200,r=f[0].getBoundingClientRect();y.css("opacity",.5+.5*c),v.css("opacity",.2+.8*c),a[0]>t?(h.attr("class","top-mask hide"),h[0].style.fillOpacity=0):t>=a[0]&&(h.attr("class","top-mask"),h[0].style.fillOpacity=(d(t,a[1])-a[0])/(a[1]-a[0])),r.top<(o=50)?(s=1,g.position="fixed",g.top=o+"px"):50===r.top&&l(t)<=(o=l(i-e-36-30))-50&&(s=0,g.position="absolute",g.top=o+"px")}).on("resize.home",function(){o=r(n.height(),0),i=o[0],e=o[1];var t=(i-600)/2,c=l(i-e-36-30);p.css("top",e),m.css("top",t),s||f.css("top",c),u.css("top",i-30),a=[t+600-200,c],n.trigger("scroll.home")}),c.off("*.home").on("click.home",".introduction img",function(){t("html, body").animate({scrollTop:"+=50"},233)}).on("click.home",".exfe-logo, .xbtn-start",function(){var o={options:{onShowAfter:function(){var o=this.element;o.css({top:n.height()/2+n.scrollTop(),marginTop:-o.height()/2})},onHideAfter:function(){this.$(".modal-body").eq(0).css("opacity",1),this.switchTabType="d00",this._oauth_&&this._oauth_.abort();var o=this.element;this.offSrcNode(),this.destory(),o.remove(),t(".popmenu").remove(),t("#js-modal-backdrop").addClass("hide").css("opacity",0)},backdrop:!1,viewData:{cls:"modal-id home-dialog"}}};t(".sign-in").data("dialog-settings",o).trigger("click.dialog.data-api").data("dialog-settings",null)}),n.trigger("resize.home"),t(".home").removeClass("hidden").addClass("start")})});