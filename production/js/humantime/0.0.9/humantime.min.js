(function(){"use strict";var t=/(?:\{\{|%\{)(\w*?)(?:\}\}?)/gm,e=/[\+\-][0-9]{4}$/,n=/^\d{4}-\d{2}-\d{2}$/,i=/^\d{2}:\d{2}:\d{2}$/,r=.2,s=6e4,o=864e5,a={monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),months:"January February March April May June July August September October November December".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"-1":function(){return"Today"},0:function(t){var e="",n=t.years,i=t.months;return n&&(e="{{years}} year"+(1===n?"":"s")),i&&(e+=(e?" ":"")+"{{months}} month"+(1===i?"":"s")),e+" ago"},1:function(t){var e="",n=t.days;return e=1===n?"Yesterday":2===n?"Two days ago":"{{days}} days ago"},2:function(t){var e="",n=t.isToday,i=t.hours;return e=!n&&i>=12?"Yesterday":"{{hours}} hours ago"},3:function(){return"1.5 hours ago"},4:function(){return"An hour ago"},5:function(t,e){return"X"===e?"Just now":"{{minutes}} minutes ago"},6:function(t,e){return"X"===e?"Now":"{{minutes}} minutes ago"},7:function(t,e){return"X"===e?"Now":"Seconds ago"},8:function(){return"In {{minutes}} minutes"},9:function(){return"In one hour"},10:function(){return"In 1.5 hours"},11:function(t){var e="",n=t.isToday,i=t.hours;return e=!n&&i>=12?"Tomorrow":"In {{hours}} hours"},12:function(t){var e="",n=t.days,i=t.day;return e=1===n?"Tomorrow":2===n?"In two days":a.weekdaysShort[i]+". in {{days}} days"},13:function(t){var e="",n=t.years,i=t.months;return n&&(e="{{years}} year"+(1===n?"":"s")),i&&(e+=(e?" ":"")+"{{months}} month"+(1===i?"":"s")),"In "+e}},u=function(t,e,n,i){var r,s=u.locales[u.locale],o=u.distanceOfTime(t,e),a=u.diff(o);return a.type=n,r=u.inWords(a,s),"function"==typeof i&&(r=i(r.data)),r},c=u.parseISO=function(t){return new Date(Date.parse(t))},l=u.toISO=function(t){return t.replace(/\s/,"T").replace(/\s/,"").replace(/([+\-]\d\d)(?::?)(\d\d)/,"$1:$2")};u.locale="en",u.locales={en:a},u.inWords=function(t,e){var n,i=e[t.token],r=t.type,s=t.date;return n="function"==typeof i?i(s,r):i,v(n,s)},u.diff=function(t){var e,n,i,o,a,u,c=t.target,l=t.distance,h=y(l/s),p={date:{}},f=p.date,d=t.days;return f.isToday=t.isToday,c._isToday?p.token=-1:-43199>h?(p.token=0,i=y(-h/525949),n=y(-h%525949/43829+r)):-1439>h?(p.token=1,e=3>-d?-d:y((-h+1439)/1440)):-107>h?(p.token=2,o=y(-h/60+r)):-81>h?p.token=3:-59>h?p.token=4:-29>h?(p.token=5,a=-h):0>h?(p.token=6,a=-h):0===h?p.token=7:60>h?(p.token=8,a=h):82>h?p.token=9:108>h?p.token=10:1440>h?(p.token=11,o=y(h/60+r)):43200>h?(p.token=12,e=3>d?d:y((h+1439)/1440),u=c.getDay()):(p.token=13,i=y(h/525949),n=y(h%525949/43829+r),12===n&&(n=0,i++)),i&&(f.years=i),n&&(f.months=n),e&&(f.days=e),o&&(f.hours=o),a&&(f.minutes=a),u!==void 0&&(f.day=u),p},u.distanceOfTime=function(t,e){t?"number"==typeof t?t=new Date(t):"string"==typeof t&&(t=c(l(t))):t=new Date,e?"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=c(l(e))):e=new Date,t._reTime&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));var n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),s=e.getFullYear(),a=e.getMonth(),u=e.getDate();return{target:t,source:e,distance:+t-+e,days:(+new Date(n,i,r)-+new Date(s,a,u))/o,isToday:n===s&&i===a&&r===u}},u.toLocaleDate=function(t){var n,i,r,s=t.outputformat,o=new Date,a=o.getFullYear()+"-"+d(o.getMonth()+1)+"-"+d(o.getDate()),u=!1,l=!1;if(s)n=o,r=a,u=!0;else{var h=t.begin_at,p=h.date,f=h.time.replace(/\s/g,""),v=f&&f.replace(e,""),y=f&&(e.exec(f)||"Z"),b=y&&y[0],w="";p?(w=m(p),v?w+="T"+g(v):(l=!0,u=w===a)):(w=a,v&&(w+="T"+g(v))),p&&v&&b&&(w+=b),n=c(w),l&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),i=r=n.getFullYear()+"-"+d(n.getMonth()+1)+"-"+d(n.getDate()),r+=v?" "+d(n.getHours())+":"+d(n.getMinutes())+":"+d(n.getSeconds()):""}return n._isToday=u,n._reTime=l,{date:n,text:r}};var h={date:function(t,e,n,i){var r=u.locales[u.locale];return r.weekdaysShort[i]+", "+r.monthsShort[e]+" "+n},time:function(t,e){var n=t>12?t-12:t,i=n+":"+d(e);return i+=t>=12?"PM":"AM"}};u.printEFTime=function(t,e,n){var i,r,s,o,a,c=t.outputformat,l=t.begin_at,d="X"===e,m={title:"",content:""},g=new Date;if(c)i=t.origin.replace(/^['"‘’“”“”‚„]+/,"").replace(/['"‘’“”“”‚„]+$/,""),m.title=i,d||(m.content=i,l.date&&(t.outputformat=0,r=u.toLocaleDate(t),m.content=u(r.date,g),t.outputformat=1));else if(n||(n=h),l&&(l.date||l.time?(r=u.toLocaleDate(t),s=r.date,l.date?(m.title=u(r.date,g,"X"),m.content=l.time_word+(l.time_word&&l.time?" ":"")+(l.time?n.time(s.getHours(),s.getMinutes()):"")+(l.time||l.time_word?l.time?" ":", ":"")+n.date(s.getFullYear(),s.getMonth(),s.getDate(),s.getDay())+(l.date_word?" ":"")+l.date_word):l.time&&(m.content=m.title=l.time_word+(l.time_word?" ":"")+n.time(s.getHours(),s.getMinutes())+(l.date_word?", ":"")+l.date_word),s.getFullYear()!==g.getFullYear()&&(m.content+=" "+s.getFullYear())):(l.date_word||l.time_word)&&(m.content=m.title=l.time_word+(l.time_word?", ":"")+l.date_word),l.timezone&&(o=l.timezone.replace(/^([+\-]\d\d:\d\d)[\w\W]*$/,"$1"),a=p(g),o!==a))){var v=f(g);m.content+=" ("+a+(v&&" "+v)+")"}return m},u.printTime=function(t,e){t||(t=new Date),e||(e=h);var n=new Date,i="";return i+=e.date(t.getFullYear(),t.getMonth(),t.getDate(),t.getDay())+" "+e.time(t.getHours(),t.getMinutes()),t.getFullYear()!==n.getFullYear()&&(i+=" "+t.getFullYear()),i};var p=u.getTimezone=function(t){var e,n,i,r;return t||(t=new Date),e=t.getTimezoneOffset(),r=0>=e?"+":"-",e=Math.abs(e),n=y(e/60),i=e-60*n,r+d(n)+":"+d(i)},f=function(t){var e;return t||(t=new Date),e=(""+t).replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),3===e.length?e:""};u.createEFTime=function(){return{begin_at:{date_word:"",date:"",time_word:"",time:"",timezone:"",id:0,type:"EFTime"},origin:"",outputformat:1,id:0,type:"CrossTime"}};var d=u.lead0=function(t,e){for(t=""+t,e||(e=2);e>t.length;)t="0"+t;return t},m=u.formatDate=function(t){var e;return n.test(t)?e=t:(e=t.split("-"),e[1]=d(e[1]),e[2]=d(e[2]),e=e.join("-")),e},g=u.formatTime=function(t){var e;return i.test(t)?e=t:(e=t.split(":"),e[0]=d(e[0]),e[1]=d(e[1]),e[2]=d(e[2]),e=e.join(":")),e},v=function(e,n){var i,r,s,o,a=e.match(t),u=0;if(a)for(;o=a[u];++u)r=o.replace(t,"$1"),s=n[r],i=RegExp(o.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(i,s);return e},y=function(t){return t-t%1};"function"==typeof define&&define("humantime",function(){return u})})();