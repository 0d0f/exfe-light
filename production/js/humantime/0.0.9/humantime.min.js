(function(){"use strict";var e=/(?:\{\{|%\{)(\w*?)(?:\}\}?)/gm,t=/[\+\-][0-9]{4}$/,i=/^\d{4}-\d{2}-\d{2}$/,n=/^\d{2}:\d{2}:\d{2}$/,r=.2,a=6e4,s=864e5,o={monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),months:"January February March April May June July August September October November December".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"-1":function(){return"Today"},0:function(e){var t="",i=e.years,n=e.months;return i&&(t="{{years}} year"+(1===i?"":"s")),n&&(t+=(t?" ":"")+"{{months}} month"+(1===n?"":"s")),t+" ago"},1:function(e){var t="",i=e.days;return t=1===i?"Yesterday":2===i?"Two days ago":"{{days}} days ago"},2:function(e){var t="",i=e.isToday,n=e.hours;return t=!i&&n>=12?"Yesterday":"{{hours}} hours ago"},3:function(){return"1.5 hours ago"},4:function(){return"An hour ago"},5:function(e,t){return"X"===t?"Just now":"{{minutes}} minutes ago"},6:function(e,t){return"X"===t?"Now":"{{minutes}} minutes ago"},7:function(e,t){return"X"===t?"Now":"Seconds ago"},8:function(){return"In {{minutes}} minutes"},9:function(){return"In one hour"},10:function(){return"In 1.5 hours"},11:function(e){var t="",i=e.isToday,n=e.hours;return t=!i&&n>=12?"Tomorrow":"In {{hours}} hours"},12:function(e){var t="",i=e.days,n=e.day;return t=1===i?"Tomorrow":2===i?"In two days":o.weekdaysShort[n]+". in {{days}} days"},13:function(e){var t="",i=e.years,n=e.months;return i&&(t="{{years}} year"+(1===i?"":"s")),n&&(t+=(t?" ":"")+"{{months}} month"+(1===n?"":"s")),"In "+t}},l=function(e,t,i,n){var r,a=l.locales[l.locale],s=l.distanceOfTime(e,t),o=l.diff(s);return o.type=i,r=l.inWords(o,a),"function"==typeof n&&(r=n(r.data)),r},c=l.parseISO=function(e){return new Date(Date.parse(e))},u=l.toISO=function(e){return e.replace(/\s/,"T").replace(/\s/,"").replace(/([+\-]\d\d)(?::?)(\d\d)/,"$1:$2")};l.locale="en",l.locales={en:o},l.inWords=function(e,t){var i,n=t[e.token],r=e.type,a=e.date;return i="function"==typeof n?n(a,r):n,v(i,a)},l.diff=function(e){var t,i,n,s,o,l,c=e.target,u=e.distance,d=y(u/a),h={date:{}},p=h.date,f=e.days;return p.isToday=e.isToday,c._isToday?h.token=-1:-43199>d?(h.token=0,n=y(-d/525949),i=y(-d%525949/43829+r)):-1439>d?(h.token=1,t=3>-f?-f:y((-d+1439)/1440)):-107>d?(h.token=2,s=y(-d/60+r)):-81>d?h.token=3:-59>d?h.token=4:-29>d?(h.token=5,o=-d):0>d?(h.token=6,o=-d):0===d?h.token=7:60>d?(h.token=8,o=d):82>d?h.token=9:108>d?h.token=10:1440>d?(h.token=11,s=y(d/60+r)):43200>d?(h.token=12,t=3>f?f:y((d+1439)/1440),l=c.getDay()):(h.token=13,n=y(d/525949),i=y(d%525949/43829+r),12===i&&(i=0,n++)),n&&(p.years=n),i&&(p.months=i),t&&(p.days=t),s&&(p.hours=s),o&&(p.minutes=o),l!==void 0&&(p.day=l),h},l.distanceOfTime=function(e,t){e?"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=c(u(e))):e=new Date,t?"number"==typeof t?t=new Date(t):"string"==typeof t&&(t=c(u(t))):t=new Date,e._reTime&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0));var i=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=t.getFullYear(),o=t.getMonth(),l=t.getDate();return{target:e,source:t,distance:+e-+t,days:(+new Date(i,n,r)-+new Date(a,o,l))/s,isToday:i===a&&n===o&&r===l}},l.toLocaleDate=function(e){var i,n,r,a=e.outputformat,s=new Date,o=s.getFullYear()+"-"+f(s.getMonth()+1)+"-"+f(s.getDate()),l=!1,u=!1;if(a)i=s,r=o,l=!0;else{var d=e.begin_at,h=d.date,p=d.time.replace(/\s/g,""),v=p&&p.replace(t,""),y=p&&(t.exec(p)||"Z"),_=y&&y[0],b="";h?(b=m(h),v?b+="T"+g(v):(u=!0,l=b===o)):(b=o,v&&(b+="T"+g(v))),h&&v&&_&&(b+=_),i=c(b),u&&(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),n=r=i.getFullYear()+"-"+f(i.getMonth()+1)+"-"+f(i.getDate()),r+=v?" "+f(i.getHours())+":"+f(i.getMinutes())+":"+f(i.getSeconds()):""}return i._isToday=l,i._reTime=u,{date:i,text:r}};var d={date:function(e,t,i,n){var r=l.locales[l.locale];return r.weekdaysShort[n]+", "+r.monthsShort[t]+" "+i},time:function(e,t){var i=e>12?e-12:e,n=i+":"+f(t);return n+=e>=12?"PM":"AM"}};l.printEFTime=function(e,t,i){var n,r,a,s,o,c=e.outputformat,u=e.begin_at,f="X"===t,m={title:"",content:""},g=new Date;if(c)n=e.origin.replace(/^['"‘’“”“”‚„]+/,"").replace(/['"‘’“”“”‚„]+$/,""),m.title=n,f||(m.content=n,u.date&&(e.outputformat=0,r=l.toLocaleDate(e),m.content=l(r.date,g),e.outputformat=1));else if(i||(i=d),u&&(u.date||u.time?(r=l.toLocaleDate(e),a=r.date,u.date?(m.title=l(r.date,g,"X"),m.content=u.time_word+(u.time_word&&u.time?" ":"")+(u.time?i.time(a.getHours(),a.getMinutes()):"")+(u.time||u.time_word?u.time?" ":", ":"")+i.date(a.getFullYear(),a.getMonth(),a.getDate(),a.getDay())+(u.date_word?" ":"")+u.date_word):u.time&&(m.content=m.title=u.time_word+(u.time_word?" ":"")+i.time(a.getHours(),a.getMinutes())+(u.date_word?", ":"")+u.date_word),a.getFullYear()!==g.getFullYear()&&(m.content+=" "+a.getFullYear())):(u.date_word||u.time_word)&&(m.content=m.title=u.time_word+(u.time_word?", ":"")+u.date_word),u.timezone&&(s=u.timezone.replace(/^([+\-]\d\d:\d\d)[\w\W]*$/,"$1"),o=h(g),s!==o))){var v=p(g);m.content+=" ("+o+(v&&" "+v)+")"}return m},l.printTime=function(e,t){e||(e=new Date),t||(t=d);var i=new Date,n="";return n+=t.date(e.getFullYear(),e.getMonth(),e.getDate(),e.getDay())+" "+t.time(e.getHours(),e.getMinutes()),e.getFullYear()!==i.getFullYear()&&(n+=" "+e.getFullYear()),n};var h=l.getTimezone=function(e){var t,i,n,r;return e||(e=new Date),t=e.getTimezoneOffset(),r=0>=t?"+":"-",t=Math.abs(t),i=y(t/60),n=t-60*i,r+f(i)+":"+f(n)},p=function(e){var t;return e||(e=new Date),t=(""+e).replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),3===t.length?t:""};l.createEFTime=function(){return{begin_at:{date_word:"",date:"",time_word:"",time:"",timezone:"",id:0,type:"EFTime"},origin:"",outputformat:1,id:0,type:"CrossTime"}};var f=l.lead0=function(e,t){for(e=""+e,t||(t=2);t>e.length;)e="0"+e;return e},m=l.formatDate=function(e){var t;return i.test(e)?t=e:(t=e.split("-"),t[1]=f(t[1]),t[2]=f(t[2]),t=t.join("-")),t},g=l.formatTime=function(e){var t;return n.test(e)?t=e:(t=e.split(":"),t[0]=f(t[0]),t[1]=f(t[1]),t[2]=f(t[2]),t=t.join(":")),t},v=function(t,i){var n,r,a,s,o=t.match(e),l=0;if(o)for(;s=o[l];++l)r=s.replace(e,"$1"),a=i[r],n=RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),t=t.replace(n,a);return t},y=function(e){return e-e%1};"function"==typeof define&&define("humantime",function(){return l})})();