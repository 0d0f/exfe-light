(function(){"use strict";var t=/(?:\{\{|%\{)(\w*?)(?:\}\}?)/gm,e=/^\d{4}-\d{2}-\d{2}$/,n=/^\d{2}:\d{2}:\d{2}$/,i=.2,r=6e4,s=864e5,o={monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),months:"January February March April May June July August September October November December".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"-1":function(){return"Today"},0:function(t){var e="",n=t.years,i=t.months;return n&&(e="{{years}} year"+(1===n?"":"s")),i&&(e+=(e?" ":"")+"{{months}} month"+(1===i?"":"s")),e+" ago"},1:function(t){var e="",n=t.days;return e=1===n?"Yesterday":2===n?"Two days ago":"{{days}} days ago"},2:function(t){var e="",n=t.isToday,i=t.hours;return e=!n&&i>=12?"Yesterday":"{{hours}} hours ago"},3:function(){return"1.5 hours ago"},4:function(){return"An hour ago"},5:function(t,e){return"X"===e?"Just now":"{{minutes}} minutes ago"},6:function(t,e){return"X"===e?"Now":"{{minutes}} minutes ago"},7:function(t,e){return"X"===e?"Now":"Seconds ago"},8:function(){return"In {{minutes}} minutes"},9:function(){return"In one hour"},10:function(){return"In 1.5 hours"},11:function(t){var e="",n=t.isToday,i=t.hours;return e=!n&&i>=12?"Tomorrow":"In {{hours}} hours"},12:function(t){var e="",n=t.days,i=t.day;return e=1===n?"Tomorrow":2===n?"In two days":o.weekdaysShort[i]+". in {{days}} days"},13:function(t){var e="",n=t.years,i=t.months;return n&&(e="{{years}} year"+(1===n?"":"s")),i&&(e+=(e?" ":"")+"{{months}} month"+(1===i?"":"s")),"In "+e}},a=function(t,e,n,i){var r,s=a.locales[a.locale],o=a.distanceOfTime(t,e),u=a.diff(o);return u.type=n,r=a.inWords(u,s),"function"==typeof i&&(r=i(r.data)),r},u=a.parseISO=function(t){return new Date(Date.parse(t))},c=a.toISO=function(t){return t.replace(/\s/,"T").replace(/\s/,"").replace(/([+\-]\d\d)(?::?)(\d\d)/,"$1:$2")};a.locale="en",a.locales={en:o},a.inWords=function(t,e){var n,i=e[t.token],r=t.type,s=t.date;return n="function"==typeof i?i(s,r):i,g(n,s)},a.diff=function(t){var e,n,s,o,a,u,c=t.target,l=t.distance,h=v(l/r),p={date:{}},f=p.date,d=t.days;return f.isToday=t.isToday,c._isToday?p.token=-1:-43199>h?(p.token=0,s=v(-h/525949),n=v(-h%525949/43829+i)):-1439>h?(p.token=1,e=3>-d?-d:v((-h+1439)/1440)):-107>h?(p.token=2,o=v(-h/60+i)):-81>h?p.token=3:-59>h?p.token=4:-29>h?(p.token=5,a=-h):0>h?(p.token=6,a=-h):0===h?p.token=7:60>h?(p.token=8,a=h):82>h?p.token=9:108>h?p.token=10:1440>h?(p.token=11,o=v(h/60+i)):43200>h?(p.token=12,e=3>d?d:v((h+1439)/1440),u=c.getDay()):(p.token=13,s=v(h/525949),n=v(h%525949/43829+i),12===n&&(n=0,s++)),s&&(f.years=s),n&&(f.months=n),e&&(f.days=e),o&&(f.hours=o),a&&(f.minutes=a),u!==void 0&&(f.day=u),p},a.distanceOfTime=function(t,e){t?"number"==typeof t?t=new Date(t):"string"==typeof t&&(t=u(c(t))):t=new Date,e?"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=u(c(e))):e=new Date,t._reTime&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));var n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),o=e.getFullYear(),a=e.getMonth(),l=e.getDate();return{target:t,source:e,distance:+t-+e,days:(+new Date(n,i,r)-+new Date(o,a,l))/s,isToday:n===o&&i===a&&r===l}},a.toLocaleDate=function(t){var e,n,i,r=t.outputformat,s=new Date,o=s.getFullYear()+"-"+f(s.getMonth()+1)+"-"+f(s.getDate()),a=!1,c=!1;if(r)e=s,i=o,a=!0;else{var l=t.begin_at,h=l.date,p=l.time,g=l.timezone,v="";h?(v=d(h),p?v+="T"+m(p):(c=!0,a=v===o)):(v=o,p&&(v+="T"+m(p))),h&&p&&g&&(v+="Z"),e=u(v),c&&(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),n=i=e.getFullYear()+"-"+f(e.getMonth()+1)+"-"+f(e.getDate()),i+=p?" "+f(e.getHours())+":"+f(e.getMinutes())+":"+f(e.getSeconds()):""}return e._isToday=a,e._reTime=c,{date:e,text:i}};var l={date:function(t,e,n,i){var r=a.locales[a.locale];return r.weekdaysShort[i]+", "+r.monthsShort[e]+" "+n},time:function(t,e){var n=t>12?t-12:t,i=n+":"+f(e);return i+=t>=12?"PM":"AM"}};a.printEFTime=function(t,e,n){var i,r,s,o,u,c=t.outputformat,f=t.begin_at,d="X"===e,m={title:"",content:""},g=new Date;if(c)i=t.origin.replace(/^['"‘’“”“”‚„]+/,"").replace(/['"‘’“”“”‚„]+$/,""),m.title=i,d||(m.content=i,f.date&&(t.outputformat=0,r=a.toLocaleDate(t),m.content=a(r.date,g),t.outputformat=1));else if(n||(n=l),f&&(f.date||f.time?(r=a.toLocaleDate(t),s=r.date,f.date?(m.title=a(r.date,g,"X"),m.content=f.time_word+(f.time_word&&f.time?" ":"")+(f.time?n.time(s.getHours(),s.getMinutes()):"")+(f.time||f.time_word?f.time?" ":", ":"")+n.date(s.getFullYear(),s.getMonth(),s.getDate(),s.getDay())+(f.date_word?" ":"")+f.date_word):f.time&&(m.content=m.title=f.time_word+(f.time_word?" ":"")+n.time(s.getHours(),s.getMinutes())+(f.date_word?", ":"")+f.date_word),s.getFullYear()!==g.getFullYear()&&(m.content+=" "+s.getFullYear())):(f.date_word||f.time_word)&&(m.content=m.title=f.time_word+(f.time_word?", ":"")+f.date_word),f.timezone&&(o=f.timezone.replace(/^([+\-]\d\d:\d\d)[\w\W]*$/,"$1"),u=h(g),o!==u))){var v=p(g);m.content+=" ("+u+(v&&" "+v)+")"}return m},a.printTime=function(t,e){t||(t=new Date),e||(e=l);var n=new Date,i="";return i+=e.date(t.getFullYear(),t.getMonth(),t.getDate(),t.getDay())+" "+e.time(t.getHours(),t.getMinutes()),t.getFullYear()!==n.getFullYear()&&(i+=" "+t.getFullYear()),i};var h=a.getTimezone=function(t){var e,n,i,r;return t||(t=new Date),e=t.getTimezoneOffset(),r=0>=e?"+":"-",e=Math.abs(e),n=v(e/60),i=e-60*n,r+f(n)+":"+f(i)},p=function(t){var e;return t||(t=new Date),e=(""+t).replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),3===e.length?e:""};a.createEFTime=function(){return{begin_at:{date_word:"",date:"",time_word:"",time:"",timezone:"",id:0,type:"EFTime"},origin:"",outputformat:1,id:0,type:"CrossTime"}};var f=a.lead0=function(t,e){for(t=""+t,e||(e=2);e>t.length;)t="0"+t;return t},d=a.formatDate=function(t){var n;return e.test(t)?n=t:(n=t.split("-"),n[1]=f(n[1]),n[2]=f(n[2]),n=n.join("-")),n},m=a.formatTime=function(t){var e;return n.test(t)?e=t:(e=t.split(":"),e[0]=f(e[0]),e[1]=f(e[1]),e[2]=f(e[2]),e=e.join(":")),e},g=function(e,n){var i,r,s,o,a=e.match(t),u=0;if(a)for(;o=a[u];++u)r=o.replace(t,"$1"),s=n[r],i=RegExp(o.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(i,s);return e},v=function(t){return t-t%1};"function"==typeof define&&define("humantime",function(){return a})})();