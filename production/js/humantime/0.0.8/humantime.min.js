(function(){"use strict";var e=/(?:\{\{|%\{)(\w*?)(?:\}\}?)/gm,t=/^\d{4}-\d{2}-\d{2}$/,i=/^\d{2}:\d{2}:\d{2}$/,n=.2,r=6e4,a=864e5,s={monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),months:"January February March April May June July August September October November December".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"-1":function(){return"Today"},0:function(e){var t="",i=e.years,n=e.months;return i&&(t="{{years}} year"+(1===i?"":"s")),n&&(t+=(t?" ":"")+"{{months}} month"+(1===n?"":"s")),t+" ago"},1:function(e){var t="",i=e.days;return t=1===i?"Yesterday":2===i?"Two days ago":"{{days}} days ago"},2:function(e){var t="",i=e.isToday,n=e.hours;return t=!i&&n>=12?"Yesterday":"{{hours}} hours ago"},3:function(){return"1.5 hours ago"},4:function(){return"An hour ago"},5:function(e,t){return"X"===t?"Just now":"{{minutes}} minutes ago"},6:function(e,t){return"X"===t?"Now":"{{minutes}} minutes ago"},7:function(e,t){return"X"===t?"Now":"Seconds ago"},8:function(){return"In {{minutes}} minutes"},9:function(){return"In one hour"},10:function(){return"In 1.5 hours"},11:function(e){var t="",i=e.isToday,n=e.hours;return t=!i&&n>=12?"Tomorrow":"In {{hours}} hours"},12:function(e){var t="",i=e.days,n=e.day;return t=1===i?"Tomorrow":2===i?"In two days":s.weekdaysShort[n]+". in {{days}} days"},13:function(e){var t="",i=e.years,n=e.months;return i&&(t="{{years}} year"+(1===i?"":"s")),n&&(t+=(t?" ":"")+"{{months}} month"+(1===n?"":"s")),"In "+t}},o=function(e,t,i,n){var r,a=o.locales[o.locale],s=o.distanceOfTime(e,t),l=o.diff(s);return l.type=i,r=o.inWords(l,a),"function"==typeof n&&(r=n(r.data)),r},l=o.parseISO=function(e){return new Date(Date.parse(e))},c=o.toISO=function(e){return e.replace(/\s/,"T").replace(/\s/,"").replace(/([+\-]\d\d)(?::?)(\d\d)/,"$1:$2")};o.locale="en",o.locales={en:s},o.inWords=function(e,t){var i,n=t[e.token],r=e.type,a=e.date;return i="function"==typeof n?n(a,r):n,g(i,a)},o.diff=function(e){var t,i,a,s,o,l,c=e.target,u=e.distance,d=v(u/r),h={date:{}},p=h.date,f=e.days;return p.isToday=e.isToday,c._isToday?h.token=-1:-43199>d?(h.token=0,a=v(-d/525949),i=v(-d%525949/43829+n)):-1439>d?(h.token=1,t=3>-f?-f:v((-d+1439)/1440)):-107>d?(h.token=2,s=v(-d/60+n)):-81>d?h.token=3:-59>d?h.token=4:-29>d?(h.token=5,o=-d):0>d?(h.token=6,o=-d):0===d?h.token=7:60>d?(h.token=8,o=d):82>d?h.token=9:108>d?h.token=10:1440>d?(h.token=11,s=v(d/60+n)):43200>d?(h.token=12,t=3>f?f:v((d+1439)/1440),l=c.getDay()):(h.token=13,a=v(d/525949),i=v(d%525949/43829+n),12===i&&(i=0,a++)),a&&(p.years=a),i&&(p.months=i),t&&(p.days=t),s&&(p.hours=s),o&&(p.minutes=o),l!==void 0&&(p.day=l),h},o.distanceOfTime=function(e,t){e?"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=l(c(e))):e=new Date,t?"number"==typeof t?t=new Date(t):"string"==typeof t&&(t=l(c(t))):t=new Date,e._reTime&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0));var i=e.getFullYear(),n=e.getMonth(),r=e.getDate(),s=t.getFullYear(),o=t.getMonth(),u=t.getDate();return{target:e,source:t,distance:+e-+t,days:(+new Date(i,n,r)-+new Date(s,o,u))/a,isToday:i===s&&n===o&&r===u}},o.toLocaleDate=function(e){var t,i,n,r=e.outputformat,a=new Date,s=a.getFullYear()+"-"+p(a.getMonth()+1)+"-"+p(a.getDate()),o=!1,c=!1;if(r)t=a,n=s,o=!0;else{var u=e.begin_at,d=u.date,h=u.time,g=u.timezone,v="";d?(v=f(d),h?v+="T"+m(h):(c=!0,o=v===s)):(v=s,h&&(v+="T"+m(h))),d&&h&&g&&(v+="Z"),t=l(v),c&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),i=n=t.getFullYear()+"-"+p(t.getMonth()+1)+"-"+p(t.getDate()),n+=h?" "+p(t.getHours())+":"+p(t.getMinutes())+":"+p(t.getSeconds()):""}return t._isToday=o,t._reTime=c,{date:t,text:n}};var u={date:function(e,t,i,n){var r=o.locales[o.locale];return r.weekdaysShort[n]+", "+r.monthsShort[t]+" "+i},time:function(e,t){var i=e>12?e-12:e,n=i+":"+p(t);return n+=e>=12?"PM":"AM"}};o.printEFTime=function(e,t,i){var n,r,a,s,l,c=e.outputformat,p=e.begin_at,f="X"===t,m={title:"",content:""},g=new Date;if(c)n=e.origin.replace(/^['"‘’“”“”‚„]+/,"").replace(/['"‘’“”“”‚„]+$/,""),m.title=n,f||(m.content=n,p.date&&(e.outputformat=0,r=o.toLocaleDate(e),m.content=o(r.date,g),e.outputformat=1));else if(i||(i=u),p&&(p.date||p.time?(r=o.toLocaleDate(e),a=r.date,p.date?(m.title=o(r.date,g,"X"),m.content=p.time_word+(p.time_word&&p.time?" ":"")+(p.time?i.time(a.getHours(),a.getMinutes()):"")+(p.time||p.time_word?p.time?" ":", ":"")+i.date(a.getFullYear(),a.getMonth(),a.getDate(),a.getDay())+(p.date_word?" ":"")+p.date_word):p.time&&(m.content=m.title=p.time_word+(p.time_word?" ":"")+i.time(a.getHours(),a.getMinutes())+(p.date_word?", ":"")+p.date_word),a.getFullYear()!==g.getFullYear()&&(m.content+=" "+a.getFullYear())):(p.date_word||p.time_word)&&(m.content=m.title=p.time_word+(p.time_word?", ":"")+p.date_word),p.timezone&&(s=p.timezone.replace(/^([+\-]\d\d:\d\d)[\w\W]*$/,"$1"),l=d(g),s!==l))){var v=h(g);m.content+=" ("+l+(v&&" "+v)+")"}return m},o.printTime=function(e,t){e||(e=new Date),t||(t=u);var i=new Date,n="";return n+=t.date(e.getFullYear(),e.getMonth(),e.getDate(),e.getDay())+" "+t.time(e.getHours(),e.getMinutes()),e.getFullYear()!==i.getFullYear()&&(n+=" "+e.getFullYear()),n};var d=o.getTimezone=function(e){var t,i,n,r;return e||(e=new Date),t=e.getTimezoneOffset(),r=0>=t?"+":"-",t=Math.abs(t),i=v(t/60),n=t-60*i,r+p(i)+":"+p(n)},h=function(e){var t;return e||(e=new Date),t=(""+e).replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),3===t.length?t:""};o.createEFTime=function(){return{begin_at:{date_word:"",date:"",time_word:"",time:"",timezone:"",id:0,type:"EFTime"},origin:"",outputformat:1,id:0,type:"CrossTime"}};var p=o.lead0=function(e,t){for(e=""+e,t||(t=2);t>e.length;)e="0"+e;return e},f=o.formatDate=function(e){var i;return t.test(e)?i=e:(i=e.split("-"),i[1]=p(i[1]),i[2]=p(i[2]),i=i.join("-")),i},m=o.formatTime=function(e){var t;return i.test(e)?t=e:(t=e.split(":"),t[0]=p(t[0]),t[1]=p(t[1]),t[2]=p(t[2]),t=t.join(":")),t},g=function(t,i){var n,r,a,s,o=t.match(e),l=0;if(o)for(;s=o[l];++l)r=s.replace(e,"$1"),a=i[r],n=RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),t=t.replace(n,a);return t},v=function(e){return e-e%1};"function"==typeof define&&define("humantime",function(){return o})})();