(function(){"use strict";var e=/(?:\{\{|%\{)(\w*?)(?:\}\}?)/gm,t=/^\d{4}-\d{2}-\d{2}$/,n=/^\d{2}:\d{2}:\d{2}$/,r=.2,i=6e4,o=864e5,s={monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),months:"January February March April May June July August September October November December".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"-1":function(){return"Today"},0:function(e){var t="",n=e.years,r=e.months;return n&&(t="{{years}} year"+(1===n?"":"s")),r&&(t+=(t?" ":"")+"{{months}} month"+(1===r?"":"s")),t+" ago"},1:function(e){var t="",n=e.days;return t=1===n?"Yesterday":2===n?"Two days ago":"{{days}} days ago"},2:function(e){var t="",n=e.isToday,r=e.hours;return t=!n&&r>=12?"Yesterday":"{{hours}} hours ago"},3:function(){return"1.5 hours ago"},4:function(){return"An hour ago"},5:function(e,t){return"X"===t?"Just now":"{{minutes}} minutes ago"},6:function(e,t){return"X"===t?"Now":"{{minutes}} minutes ago"},7:function(e,t){return"X"===t?"Now":"Seconds ago"},8:function(){return"In {{minutes}} minutes"},9:function(){return"In one hour"},10:function(){return"In 1.5 hours"},11:function(e){var t="",n=e.isToday,r=e.hours;return t=!n&&r>=12?"Tomorrow":"In {{hours}} hours"},12:function(e){var t="",n=e.days,r=e.day;return t=1===n?"Tomorrow":2===n?"In two days":s.weekdaysShort[r]+". in {{days}} days"},13:function(e){var t="",n=e.years,r=e.months;return n&&(t="{{years}} year"+(1===n?"":"s")),r&&(t+=(t?" ":"")+"{{months}} month"+(1===r?"":"s")),"In "+t}},a=function(e,t,n,r){var i,o=a.locales[a.locale],s=a.distanceOfTime(e,t),u=a.diff(s);return u.type=n,i=a.inWords(u,o),"function"==typeof r&&(i=r(i.data)),i},u=a.parseISO=function(e){return new Date(Date.parse(e))},l=a.toISO=function(e){return e.replace(/\s/,"T").replace(/\s/,"").replace(/([+\-]\d\d)(?::?)(\d\d)/,"$1:$2")};a.locale="en",a.locales={en:s},a.inWords=function(e,t){var n,r=t[e.token],i=e.type,o=e.date;return n="function"==typeof r?r(o,i):r,m(n,o)},a.diff=function(e){var t,n,o,s,a,u,l=e.target,c=e.distance,h=y(c/i),p={date:{}},f=p.date,d=e.days;return f.isToday=e.isToday,l._isToday?p.token=-1:-43199>h?(p.token=0,o=y(-h/525949),n=y(-h%525949/43829+r)):-1439>h?(p.token=1,t=3>-d?-d:y((-h+1439)/1440)):-107>h?(p.token=2,s=y(-h/60+r)):-81>h?p.token=3:-59>h?p.token=4:-29>h?(p.token=5,a=-h):0>h?(p.token=6,a=-h):0===h?p.token=7:60>h?(p.token=8,a=h):82>h?p.token=9:108>h?p.token=10:1440>h?(p.token=11,s=y(h/60+r)):43200>h?(p.token=12,t=3>d?d:y((h+1439)/1440),u=l.getDay()):(p.token=13,o=y(h/525949),n=y(h%525949/43829+r),12===n&&(n=0,o++)),o&&(f.years=o),n&&(f.months=n),t&&(f.days=t),s&&(f.hours=s),a&&(f.minutes=a),u!==void 0&&(f.day=u),p},a.distanceOfTime=function(e,t){e?"number"==typeof e?e=new Date(e):"string"==typeof e&&(e=u(l(e))):e=new Date,t?"number"==typeof t?t=new Date(t):"string"==typeof t&&(t=u(l(t))):t=new Date,e._reTime&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0));var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=t.getFullYear(),a=t.getMonth(),c=t.getDate();return{target:e,source:t,distance:+e-+t,days:(+new Date(n,r,i)-+new Date(s,a,c))/o,isToday:n===s&&r===a&&i===c}},a.toLocaleDate=function(e){var t,n,r,i=e.outputformat,o=new Date,s=o.getFullYear()+"-"+f(o.getMonth()+1)+"-"+f(o.getDate()),a=!1,l=!1;if(i)t=o,r=s,a=!0;else{var c=e.begin_at,h=c.date,p=c.time,m=c.timezone,y="";h?(y=d(h),p?y+="T"+g(p):(l=!0,a=y===s)):(y=s,p&&(y+="T"+g(p))),h&&p&&m&&(y+="Z"),t=u(y),l&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),n=r=t.getFullYear()+"-"+f(t.getMonth()+1)+"-"+f(t.getDate()),r+=p?" "+f(t.getHours())+":"+f(t.getMinutes())+":"+f(t.getSeconds()):""}return t._isToday=a,t._reTime=l,{date:t,text:r}};var c={date:function(e,t,n,r){var i=a.locales[a.locale];return i.weekdaysShort[r]+", "+i.monthsShort[t]+" "+n},time:function(e,t){var n=e>12?e-12:e,r=n+":"+f(t);return r+=e>=12?"PM":"AM"}};a.printEFTime=function(e,t,n){var r,i,o,s,u,l=e.outputformat,f=e.begin_at,d="X"===t,g={title:"",content:""},m=new Date;if(l)r=e.origin.replace(/^['"‘’“”“”‚„]+/,"").replace(/['"‘’“”“”‚„]+$/,""),g.title=r,d||(g.content=r,f.date&&(e.outputformat=0,i=a.toLocaleDate(e),g.content=a(i.date,m),e.outputformat=1));else if(n||(n=c),f&&(f.date||f.time?(i=a.toLocaleDate(e),o=i.date,f.date?(g.title=a(i.date,m,"X"),g.content=f.time_word+(f.time_word&&f.time?" ":"")+(f.time?n.time(o.getHours(),o.getMinutes()):"")+(f.time||f.time_word?f.time?" ":", ":"")+n.date(o.getFullYear(),o.getMonth(),o.getDate(),o.getDay())+(f.date_word?" ":"")+f.date_word):f.time&&(g.content=g.title=f.time_word+(f.time_word?" ":"")+n.time(o.getHours(),o.getMinutes())+(f.date_word?", ":"")+f.date_word),o.getFullYear()!==m.getFullYear()&&(g.content+=" "+o.getFullYear())):(f.date_word||f.time_word)&&(g.content=g.title=f.time_word+(f.time_word?", ":"")+f.date_word),f.timezone&&(s=f.timezone.replace(/^([+\-]\d\d:\d\d)[\w\W]*$/,"$1"),u=h(m),s!==u))){var y=p(m);g.content+=" ("+u+(y&&" "+y)+")"}return g},a.printTime=function(e,t){e||(e=new Date),t||(t=c);var n=new Date,r="";return r+=t.date(e.getFullYear(),e.getMonth(),e.getDate(),e.getDay())+" "+t.time(e.getHours(),e.getMinutes()),e.getFullYear()!==n.getFullYear()&&(r+=" "+e.getFullYear()),r};var h=a.getTimezone=function(e){var t,n,r,i;return e||(e=new Date),t=e.getTimezoneOffset(),i=0>=t?"+":"-",t=Math.abs(t),n=y(t/60),r=t-60*n,i+f(n)+":"+f(r)},p=function(e){var t;return e||(e=new Date),t=(""+e).replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,""),3===t.length?t:""};a.createEFTime=function(){return{begin_at:{date_word:"",date:"",time_word:"",time:"",timezone:"",id:0,type:"EFTime"},origin:"",outputformat:1,id:0,type:"CrossTime"}};var f=a.lead0=function(e,t){for(e=""+e,t||(t=2);t>e.length;)e="0"+e;return e},d=a.formatDate=function(e){var n;return t.test(e)?n=e:(n=e.split("-"),n[1]=f(n[1]),n[2]=f(n[2]),n=n.join("-")),n},g=a.formatTime=function(e){var t;return n.test(e)?t=e:(t=e.split(":"),t[0]=f(t[0]),t[1]=f(t[1]),t[2]=f(t[2]),t=t.join(":")),t},m=function(t,n){var r,i,o,s,a=t.match(e),u=0;if(a)for(;s=a[u];++u)i=s.replace(e,"$1"),o=n[i],r=RegExp(s.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),t=t.replace(r,o);return t},y=function(e){return e-e%1};"function"==typeof define&&define("humantime",function(){return a})})();