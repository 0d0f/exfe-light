define("widget",function(e){"use strict";function t(){return"widget-"+c++}function n(e){return"function"==typeof e}function r(e,t){var r=e[t];return e&&r?n(r)?e[t]():r:void 0}function i(e,t){var n;for(n in t)"options"!==n&&(e[n]=t[n])}function o(e,t){return e?function(n){return e.call(t,n)}:void 0}var a=e("jquery"),s=e("base"),u=s.extend({options:{template:"<div />",events:null},initialize:function(e){this.cid=t(),this.initOptions(e),this.parseElement(),this.delegateEvents(),this.init(),u.caches[this.cid]=this},initOptions:function(e){this.setOptions(e),i(this,e)},parseElement:function(){var e=this.element,t=this.options.template;if(e?this.element=e instanceof a?e:a(e):t&&(this.element=a(t)),!this.element)throw"element is invalid";this.element.attr("data-widget-id",this.cid)},init:function(){},render:function(){return this},delegateEvents:function(e){if(e||(e=r(this.options,"events")),e){this.undelegateEvents();var t,n,i,a,s;for(t in e){if(n=e[t]||this[t],!n)throw'Method "'+e[t]+'" does not exist';i=t.match(l),a=i[1],s=i[2]||null,a+=".delegateEvents"+this.cid,this.element.on(a,s,o(n,this))}}},undelegateEvents:function(){this.element.off(".delegateEvents"+this.cid)},$:function(e){return this.element.find(e)},focus:function(){this.element.focus()},_destory:function(){delete u.caches[this.cid],this.undelegateEvents(),u.superclass.destory.call(this)}});u.caches={};var l=/^(\S+)\s*(.*)$/,c=0;return u});