define("maplabel",function(){function e(e){this.set("fontFamily","sans-serif"),this.set("fontSize",12),this.set("fontColor","#000000"),this.set("strokeWeight",4),this.set("strokeColor","#ffffff"),this.set("align","center"),this.set("zIndex",1e3),this.setValues(e)}return e.prototype=new google.maps.OverlayView,window.MapLabel=e,e.prototype.changed=function(e){switch(e){case"fontFamily":case"fontSize":case"fontColor":case"strokeWeight":case"strokeColor":case"align":case"text":return this.drawCanvas_();case"maxZoom":case"minZoom":case"position":return this.draw()}},e.prototype.drawCanvas_=function(){var e=this.canvas_;if(e){var t=e.style;t.zIndex=this.get("zIndex");var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.strokeStyle=this.get("strokeColor"),i.fillStyle=this.get("fontColor"),i.font=this.get("fontSize")+"px "+this.get("fontFamily");var n=Number(this.get("strokeWeight")),r=this.get("text");if(r){n&&(i.lineWidth=n,i.strokeText(r,n,n)),i.fillText(r,n,n);var a=i.measureText(r),s=a.width+n;t.marginLeft=this.getMarginLeft_(s)+"px",t.marginTop="-0.4em"}}},e.prototype.onAdd=function(){var e=this.canvas_=document.createElement("canvas"),t=e.style;t.position="absolute";var i=e.getContext("2d");i.lineJoin="round",i.textBaseline="top",this.drawCanvas_();var n=this.getPanes();n&&n.mapPane.appendChild(e)},e.prototype.onAdd=e.prototype.onAdd,e.prototype.getMarginLeft_=function(e){switch(this.get("align")){case"left":return 0;case"right":return-e}return e/-2},e.prototype.draw=function(){var e=this.getProjection();if(e&&this.canvas_){var t=this.get("position");if(t){var i=e.fromLatLngToDivPixel(t),n=this.canvas_.style;n.top=i.y+"px",n.left=i.x+"px",n.visibility=this.getVisible_()}}},e.prototype.draw=e.prototype.draw,e.prototype.getVisible_=function(){var e=this.get("minZoom"),t=this.get("maxZoom");if(void 0===e&&void 0===t)return"";var i=this.getMap();if(!i)return"";var n=i.getZoom();return e>n||n>t?"hidden":""},e.prototype.onRemove=function(){var e=this.canvas_;e&&e.parentNode&&e.parentNode.removeChild(e)},e.prototype.onRemove=e.prototype.onRemove,e});