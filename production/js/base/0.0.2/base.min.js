define("base",function(e){"use strict";function t(e){return"[object Function]"===o.call(e)}function i(e){return e&&"[object Object]"===o.call(e)&&"isPrototypeOf"in e}function n(e,t){var r,a;for(r in t)a=t[r],l(a)?a=a.slice():i(a)&&(a=n(e[r]||{},a)),e[r]=a;return e}function r(e){return e[2].toLowerCase()+e.substring(3)}var a=/^on[A-Z]/,s=Object.__proto__,o=Object.prototype.toString,l=Array.isArray;l||(l=function(e){return"[object Array]"===o.call(e)});var c=e("class"),d=e("emitter");return c.create(d,{setOptions:function(e){var i,s,o;if(this.hasOwnProperty("options")||(this.options={}),o=this.options,this.constructor.superclass.options&&n(o,this.constructor.superclass.options),this.constructor.prototype.options&&n(o,this.constructor.prototype.options),e&&e.options&&n(o,e.options),this.on)for(i in o)s=o[i],t(s)&&a.test(i)&&(this.on(r(i),s),delete o[i])},destory:function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e];s&&(this.__proto__=s)}})});