define("base",function(e){"use strict";function t(e){return"[object Function]"===o.call(e)}function i(e){return e&&"[object Object]"===o.call(e)&&"isPrototypeOf"in e}function n(e,t){var a,r;for(a in t)r=t[a],l(r)?r=r.slice():i(r)&&(r=n(e[a]||{},r)),e[a]=r;return e}function a(e){return e[2].toLowerCase()+e.substring(3)}var r=/^on[A-Z]/,s=Object.__proto__,o=Object.prototype.toString,l=Array.isArray;l||(l=function(e){return"[object Array]"===o.call(e)});var c=e("class"),d=e("emitter");return c.create(d,{setOptions:function(e){var i,s,o;if(this.hasOwnProperty("options")||(this.options={}),o=this.options,this.constructor.superclass.options&&n(o,this.constructor.superclass.options),this.constructor.prototype.options&&n(o,this.constructor.prototype.options),e&&e.options&&n(o,e.options),this.on)for(i in o)s=o[i],t(s)&&r.test(i)&&(this.on(a(i),s),delete o[i])},destory:function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e];s&&(this.__proto__=s)}})});