define("base",function(t){"use strict";function n(t){return"[object Function]"===c.call(t)}function r(t){return t&&"[object Object]"===c.call(t)&&"isPrototypeOf"in t}function o(t,n){var i,e;for(i in n)e=n[i],u(e)?e=e.slice():r(e)&&(e=o(t[i]||{},e)),t[i]=e;return t}function i(t){return t[2].toLowerCase()+t.substring(3)}var e=/^on[A-Z]/,s=Object.__proto__,c=Object.prototype.toString,u=Array.isArray;u||(u=function(t){return"[object Array]"===c.call(t)});var a=t("class"),f=t("emitter");return a.create(f,{setOptions:function(t){var r,s,c;if(this.hasOwnProperty("options")||(this.options={}),c=this.options,this.constructor.superclass.options&&o(c,this.constructor.superclass.options),this.constructor.prototype.options&&o(c,this.constructor.prototype.options),t&&t.options&&o(c,t.options),this.on)for(r in c)s=c[r],n(s)&&e.test(r)&&(this.on(i(r),s),delete c[r])},destory:function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t];s&&(this.__proto__=s)}})});