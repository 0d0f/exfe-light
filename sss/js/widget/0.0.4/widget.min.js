define("widget",function(e){"use strict";function o(){return"widget-"+s++}function u(e){return typeof e=="function"}function a(e,t){var n=e[t];if(e&&n)return u(n)?e[t]():n}function f(e,t){var n;for(n in t)n!=="options"&&(e[n]=t[n])}function l(e,t){if(!e)return;return function(r){return e.call(t,r)}}var t=e("jquery"),n=e("base"),r=n.extend({options:{template:"<div />",events:null},initialize:function(e){this.cid=o(),this.initOptions(e),this.parseElement(),this.delegateEvents(),this.init(),r.caches[this.cid]=this},initOptions:function(e){this.setOptions(e),f(this,e)},parseElement:function(){var e=this.element,n=this.options.template;e?this.element=e instanceof t?e:t(e):n&&(this.element=t(n));if(!this.element)throw"element is invalid";this.element.attr("data-widget-id",this.cid)},init:function(){},render:function(){return this},delegateEvents:function(e){e||(e=a(this.options,"events"));if(!e)return;this.undelegateEvents();var t,n,r,s,o;for(t in e){n=e[t]||this[t];if(!n)throw'Method "'+e[t]+'" does not exist';r=t.match(i),s=r[1],o=r[2]||null,s+=".delegateEvents"+this.cid,this.element.on(s,o,l(n,this))}},undelegateEvents:function(){this.element.off(".delegateEvents"+this.cid)},$:function(e){return this.element.find(e)},focus:function(){this.element.focus()},_destory:function(){delete r.caches[this.cid],this.undelegateEvents(),r.superclass.destory.call(this)}});r.caches={};var i=/^(\S+)\s*(.*)$/,s=0;return r});